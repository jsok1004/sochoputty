<Window x:Class="SochoPutty.Windows.ManageConnectionsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ì—°ê²° ê´€ë¦¬" Height="500" Width="700"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource WindowBackground}"
        Foreground="{DynamicResource TextForeground}"
        WindowStyle="None"
        AllowsTransparency="False"
        ResizeMode="CanResize">
    
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32"
                     ResizeBorderThickness="5"
                     UseAeroCaptionButtons="False"
                     NonClientFrameEdges="None"
                     GlassFrameThickness="0"
                     CornerRadius="0"/>
    </WindowChrome.WindowChrome>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/> <!-- ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°” -->
            <RowDefinition Height="*"/> <!-- ë©”ì¸ ì»¨í…ì¸  -->
            <RowDefinition Height="Auto"/> <!-- ë²„íŠ¼ ì˜ì—­ -->
        </Grid.RowDefinitions>
        
        <!-- ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°” -->
        <Grid Grid.Row="0" Background="{DynamicResource TitleBarBackground}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- ì•„ì´ì½˜ê³¼ íƒ€ì´í‹€ -->
            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,0,0">
                <Image Source="../app.ico" Width="16" Height="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <TextBlock Text="ì—°ê²° ê´€ë¦¬" 
                          FontSize="14" 
                          FontWeight="Normal"
                          Foreground="{DynamicResource TitleBarForeground}" 
                          VerticalAlignment="Center"/>
            </StackPanel>
            
            <!-- ìœˆë„ìš° ì»¨íŠ¸ë¡¤ ë²„íŠ¼ -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" WindowChrome.IsHitTestVisibleInChrome="True">
                <Button Name="btnMinimize" 
                        Width="46" Height="32" 
                        Background="Transparent" 
                        BorderThickness="0"
                        Foreground="{DynamicResource TitleBarForeground}"
                        Click="MinimizeWindow_Click"
                        ToolTip="ìµœì†Œí™”">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource TitleBarButtonHover}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource TitleBarButtonPressed}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <TextBlock Text="ðŸ—•" FontSize="12"/>
                </Button>
                
                <Button Name="btnMaximize" 
                        Width="46" Height="32" 
                        Background="Transparent" 
                        BorderThickness="0"
                        Foreground="{DynamicResource TitleBarForeground}"
                        Click="MaximizeWindow_Click"
                        ToolTip="ìµœëŒ€í™”">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource TitleBarButtonHover}"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource TitleBarButtonPressed}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <TextBlock Text="ðŸ—–" FontSize="12"/>
                </Button>
                
                <Button Name="btnClose" 
                        Width="46" Height="32" 
                        Background="Transparent" 
                        BorderThickness="0"
                        Foreground="{DynamicResource TitleBarForeground}"
                        Click="CloseWindow_Click"
                        ToolTip="ë‹«ê¸°">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#E81123"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#F1707A"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <TextBlock Text="ðŸ—™" FontSize="12"/>
                </Button>
            </StackPanel>
        </Grid>
        
        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
        
        <!-- ì—°ê²° ëª©ë¡ -->
        <DataGrid Grid.Row="0" Grid.Column="0" Name="dgConnections" 
                  AutoGenerateColumns="False"
                  SelectionMode="Single"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  IsReadOnly="True"
                  SelectionChanged="DataGrid_SelectionChanged"
                  MouseDoubleClick="DataGrid_MouseDoubleClick">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ì´ë¦„" Binding="{Binding Name}" Width="150"/>
                <DataGridTextColumn Header="í˜¸ìŠ¤íŠ¸" Binding="{Binding Hostname}" Width="200"/>
                <DataGridTextColumn Header="í¬íŠ¸" Binding="{Binding Port}" Width="60"/>
                <DataGridTextColumn Header="ì‚¬ìš©ìž" Binding="{Binding Username}" Width="100"/>
                <DataGridTextColumn Header="íƒ€ìž…" Binding="{Binding ConnectionType}" Width="80"/>
                <DataGridTextColumn Header="ì„¤ëª…" Binding="{Binding Description}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>
        
        <!-- ë²„íŠ¼ íŒ¨ë„ -->
        <StackPanel Grid.Row="0" Grid.Column="1" Margin="10,0,0,0" Width="120">
            <Button Name="btnAdd" Content="ìƒˆë¡œ ë§Œë“¤ê¸°" Margin="0,0,0,10" Height="30" Click="Add_Click"/>
            <Button Name="btnEdit" Content="íŽ¸ì§‘" Margin="0,0,0,10" Height="30" Click="Edit_Click" IsEnabled="False"/>
            <Button Name="btnDuplicate" Content="ë³µì œ" Margin="0,0,0,10" Height="30" Click="Duplicate_Click" IsEnabled="False"/>
            <Button Name="btnDelete" Content="ì‚­ì œ" Margin="0,0,0,10" Height="30" Click="Delete_Click" IsEnabled="False"/>
            <Separator Margin="0,10"/>
            <Button Name="btnMoveUp" Content="ìœ„ë¡œ â†‘" Margin="0,0,0,10" Height="30" Click="MoveUp_Click" IsEnabled="False"/>
            <Button Name="btnMoveDown" Content="ì•„ëž˜ë¡œ â†“" Margin="0,0,0,10" Height="30" Click="MoveDown_Click" IsEnabled="False"/>
            <Separator Margin="0,10"/>
            <Button Name="btnConnect" Content="ì—°ê²°" Margin="0,0,0,10" Height="30" Click="Connect_Click" IsEnabled="False" FontWeight="Bold"/>
            <Separator Margin="0,10"/>
            <Button Name="btnImport" Content="ê°€ì ¸ì˜¤ê¸°" Margin="0,0,0,10" Height="30" Click="Import_Click"/>
            <Button Name="btnExport" Content="ë‚´ë³´ë‚´ê¸°" Margin="0,0,0,10" Height="30" Click="Export_Click"/>
        </StackPanel>
        </Grid>
        
        <!-- ë²„íŠ¼ ì˜ì—­ -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10,10,10,10">
            <Button Name="btnConnectBottom" Content="ì—°ê²°" Width="80" Margin="0,0,10,0" Click="Connect_Click"/>
            <TextBlock Text="ì´ " VerticalAlignment="Center"/>
            <TextBlock Name="txtConnectionCount" Text="0" VerticalAlignment="Center" FontWeight="Bold"/>
            <TextBlock Text="ê°œì˜ ì—°ê²°" VerticalAlignment="Center" Margin="0,0,20,0"/>
            <Button Name="btnCloseBottom" Content="ë‹«ê¸°" Width="80" Click="Close_Click"/>
        </StackPanel>
    </Grid>
</Window> 