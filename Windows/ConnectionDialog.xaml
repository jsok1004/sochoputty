<Window x:Class="SochoPutty.Windows.ConnectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ì—°ê²° ì„¤ì •" Height="580" Width="450"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{DynamicResource WindowBackground}"
        Foreground="{DynamicResource TextForeground}"
        WindowStyle="None"
        AllowsTransparency="False">
    
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32"
                     ResizeBorderThickness="5"
                     UseAeroCaptionButtons="False"
                     NonClientFrameEdges="None"
                     GlassFrameThickness="0"
                     CornerRadius="0"/>
    </WindowChrome.WindowChrome>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/> <!-- ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°” -->
            <RowDefinition Height="*"/> <!-- ë©”ì¸ ì»¨í…ì¸  -->
            <RowDefinition Height="Auto"/> <!-- ë²„íŠ¼ ì˜ì—­ -->
        </Grid.RowDefinitions>
        
        <!-- ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°” -->
        <Grid Grid.Row="0" Background="{DynamicResource TitleBarBackground}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- ì•„ì´ì½˜ê³¼ íƒ€ì´í‹€ -->
            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,0,0">
                <Image Source="../app.ico" Width="16" Height="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <TextBlock Text="ì—°ê²° ì„¤ì •" 
                          FontSize="14" 
                          FontWeight="Normal"
                          Foreground="{DynamicResource TitleBarForeground}" 
                          VerticalAlignment="Center"/>
            </StackPanel>
            
            <!-- ìœˆë„ìš° ì»¨íŠ¸ë¡¤ ë²„íŠ¼ -->
            <StackPanel Grid.Column="2" Orientation="Horizontal" WindowChrome.IsHitTestVisibleInChrome="True">
                <Button Name="btnClose" 
                        Width="46" Height="32" 
                        Background="Transparent" 
                        BorderThickness="0"
                        Foreground="{DynamicResource TitleBarForeground}"
                        Click="CloseWindow_Click"
                        ToolTip="ë‹«ê¸°">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#E81123"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter Property="Background" Value="#F1707A"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <TextBlock Text="ðŸ—™" FontSize="12"/>
                </Button>
            </StackPanel>
        </Grid>
        
        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <Grid Grid.Row="1" Margin="10">
        
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- ê¸°ë³¸ ì •ë³´ -->
                <GroupBox Header="ê¸°ë³¸ ì •ë³´" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Label Grid.Row="0"  Grid.Column="0" Content="ì—°ê²° ì´ë¦„:" Foreground="{DynamicResource TextForeground}"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="txtName" Margin="5"/>
                        
                        <Label Grid.Row="1" Grid.Column="0" Content="í˜¸ìŠ¤íŠ¸ëª…:" Foreground="{DynamicResource TextForeground}"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Name="txtHostname" Margin="5"/>
                        
                        <Label Grid.Row="2" Grid.Column="0" Content="í¬íŠ¸:" Foreground="{DynamicResource TextForeground}"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Name="txtPort" Margin="5"/>
                        
                        <Label Grid.Row="3" Grid.Column="0" Content="ì—°ê²° íƒ€ìž…:" Foreground="{DynamicResource TextForeground}"/>
                        <ComboBox Grid.Row="3" Grid.Column="1" Name="cmbConnectionType" Margin="5"
                                  SelectionChanged="ConnectionType_SelectionChanged"/>
                        
                        <Label Grid.Row="4" Grid.Column="0" Content="ì„¤ëª…:" Foreground="{DynamicResource TextForeground}"/>
                        <TextBox Grid.Row="4" Grid.Column="1" Name="txtDescription" Margin="5" 
                                 TextWrapping="Wrap" AcceptsReturn="True" Height="60"/>
                    </Grid>
                </GroupBox>
                
                <!-- ì¸ì¦ ì •ë³´ -->
                <GroupBox Header="ì¸ì¦ ì •ë³´" Margin="0,0,0,10">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <Label Grid.Row="0" Grid.Column="0" Content="ì‚¬ìš©ìžëª…:" Foreground="{DynamicResource TextForeground}"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="txtUsername" Margin="5"/>
                        
                        <Label Grid.Row="1" Grid.Column="0" Content="ë¹„ë°€ë²ˆí˜¸:" Foreground="{DynamicResource TextForeground}"/>
                        <PasswordBox Grid.Row="1" Grid.Column="1" Name="pwdPassword" Margin="5"/>
                        
                        <Label Grid.Row="2" Grid.Column="0" Content="ê°œì¸í‚¤ íŒŒì¼:" Foreground="{DynamicResource TextForeground}"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Name="txtPrivateKeyPath" Margin="5"/>
                        <Button Grid.Row="2" Grid.Column="2" Name="btnBrowseKey" Content="ì°¾ê¸°..." 
                                Margin="5" Width="60" Click="BrowseKey_Click"/>
                    </Grid>
                </GroupBox>
                
                <!-- í…ŒìŠ¤íŠ¸ ì—°ê²° -->
                <GroupBox Header="ì—°ê²° í…ŒìŠ¤íŠ¸">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <Button Grid.Row="0" Name="btnTestConnection" Content="ì—°ê²° í…ŒìŠ¤íŠ¸" 
                                Width="100" HorizontalAlignment="Left" Margin="0,0,0,10"
                                Click="TestConnection_Click"/>
                        
                        <TextBlock Grid.Row="1" Name="txtTestResult" TextWrapping="Wrap" 
                                   Foreground="Green" FontWeight="Bold"/>
                    </Grid>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        </Grid>
        
        <!-- ë²„íŠ¼ ì˜ì—­ -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10,10,10,10">
            <Button Name="btnOK" Content="í™•ì¸" Width="80" Margin="0,0,10,0" Click="OK_Click" IsDefault="True"/>
            <Button Name="btnCancel" Content="ì·¨ì†Œ" Width="80" Click="Cancel_Click" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window> 